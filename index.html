<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nemi ‚Äì Your Personalized Path to Homeownership</title>

  <!-- Tailwind (used for utility classes only) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- [NEMI:ASSET PRELOAD] your server prefers extensionless SVG paths -->
  <link rel="preload" as="image" href="./assets/svgs/signinrenamed" type="image/svg+xml" />
</head>
<body class="bg-white text-slate-900">

  <!-- =========================================================
       [NEMI:MOBILE HERO] SVG-driven layout (anchors in SVG <rect>)
       ========================================================= -->
  <section id="nemiMobile"
           class="md:hidden relative mx-auto w-[min(520px,96vw)] overflow-hidden invisible"
           style="aspect-ratio:9/16">

    <!-- [NEMI:SLOT] Semi-transparent frosted card behind the form.
         Anchors to SVG rect id="loginbox". -->
    <div id="slot-loginboxbg" class="slot-bg absolute hidden" aria-hidden="true"></div>

    <!-- [NEMI:SVG HOST] The actual SVG is injected here (behind everything) -->
    <div id="mobileArt" class="absolute inset-0" style="z-index:1;"></div>

    <!-- =======================
         [NEMI:SLOTS OVERLAY]
         ======================= -->

    <!-- [NEMI:SLOT teamicon] fills SVG rect id="teamiconbox" -->
    <div id="slot-teamiconbox" class="slot absolute hidden">
      <img src="./assets/img/teamicon.svg" alt="Team" class="w-full h-full object-contain">
    </div>

    <!-- [NEMI:SLOT title] fills SVG rect id="titletextbox"
         ‚Äî one single centered line, auto-fitted by JS -->
    <div id="slot-titletextbox" class="slot absolute hidden">
      <div class="titlecopy text-slate-900" style="--fsTitle:22px;">
        Take Control of Your Homebuying Journey
      </div>
    </div>

    <!-- [NEMI:SLOT oneteam] fills SVG rect id="oneteam"
         ‚Äî exactly 2 lines, centered, with emphasis words bolded -->
    <div id="slot-oneteam" class="slot absolute hidden">
      <div class="otcopy text-slate-800" style="--fsSub:16px;">
        <span>One <strong>team</strong>. Every step, <strong>always</strong> clear.</span><br>
        <span>Your Realtor, Lender &amp; Attorney in <strong>One</strong> Hub.</span>
      </div>
    </div>

    <!-- [NEMI:SLOT CTA] fills SVG rect id="getstartedwithnemi"
         ‚Äî gold pill, slightly larger via JS inset -->
    <a id="slot-getstartedwithnemi" href="/signup"
       class="slot absolute hidden inline-flex items-center justify-center rounded-full border-2 border-slate-800/90 bg-yellow-400 font-semibold text-slate-900">
       Get Started With Nemi
    </a>

    <!-- [NEMI:SLOT alreadyamember] rect id="alreadyamember" -->
    <div id="slot-alreadyamember" class="slot absolute hidden flex items-center justify-center text-[12px] text-slate-600">
      Already a Nemi Member?
    </div>

    <!-- [NEMI:SLOT email] rect id="emailbox" -->
    <div id="slot-emailbox" class="slot absolute hidden">
      <input class="w-full h-full rounded-full border-2 border-slate-300 px-3 text-[16px]"
             type="email" name="email" placeholder="Email" autocomplete="username">
    </div>

    <!-- [NEMI:SLOT password] rect id="passwordbox" -->
    <div id="slot-passwordbox" class="slot absolute hidden">
      <input class="w-full h-full rounded-full border-2 border-slate-300 px-3 text-[16px]"
             type="password" name="password" placeholder="Password" autocomplete="current-password">
    </div>

    <!-- [NEMI:SLOT login button] rect id="loginbar" -->
    <button id="slot-loginbar" class="slot absolute hidden rounded-full border-2 border-slate-800/80 bg-yellow-400 font-semibold">üîí Login</button>

    <!-- [NEMI:SLOT forgot] rect id="forgotpassword" -->
    <a id="slot-forgotpassword" href="/auth/forgot.php"
       class="slot absolute hidden underline text-[12px] text-slate-700 text-center">Forgot Password?</a>

    <!-- [NEMI:SLOT app badges] rect id="appdownload" / id="androiddownload" -->
    <a id="slot-appdownload" href="#" class="slot absolute hidden block" aria-label="Download on the App Store">
      <img src="./assets/img/appstore.svg" class="w-full h-full object-contain" alt="">
    </a>
    <a id="slot-androiddownload" href="#" class="slot absolute hidden block" aria-label="Get it on Google Play">
      <img src="./assets/img/googleplay.svg" class="w-full h-full object-contain" alt="">
    </a>

    <!-- [NEMI:SLOT features pill] rect id="explorenemibox" -->
    <a id="slot-explorenemibox" href="/features"
       class="slot absolute hidden inline-flex items-center justify-center rounded-full border-2 border-slate-800/80 bg-white text-slate-900 font-semibold">
       Explore Nemi Features
    </a>

    <!-- [NEMI:SLOT apply line] rect id="realtorapply" -->
    <div id="slot-realtorapply" class="slot absolute hidden flex items-center justify-center text-[12px] text-slate-600 text-center">
      Have what it takes to be a Nemi Pro? &nbsp;<a href="/pros/apply" class="underline text-slate-800">Apply Here!</a>
    </div>
  </section>

  <!-- ==================
       [NEMI:STYLES]
       ================== -->
  <style>
    /* ---------- Quick knobs (edit these often) ---------- */
    #nemiMobile{
      --card-opacity: .65;          /* frosted card opacity (.55‚Äì.80 looks best) */
      --oneteam-nudge-y: 2px;      /* tiny vertical nudge for the oneteam copy */
    }

    /* Frosted card (background for form) */
    #nemiMobile .slot-bg{
      z-index: 6; /* above SVG, below interactive slots */
      background: rgba(255,255,255,var(--card-opacity));
      border-radius: 24px;           /* JS syncs to SVG corner radius if present */
      box-shadow: 0 10px 30px rgba(20,35,58,0.15);
      pointer-events: none;
      backdrop-filter: blur(8px) saturate(1.1);
      -webkit-backdrop-filter: blur(8px) saturate(1.1);
      border: 1px solid rgba(255,255,255,0.35);
    }

    /* All overlay slots sit above the SVG artwork */
    #nemiMobile .slot { z-index: 10; }

    /* ---- Title (in rect id="titletextbox") ‚Äî one centered line, no clip ---- */
    /* The slots themselves center their child vertically + horizontally */

/* ---------- Title & One-team layout ---------- */
#slot-titletextbox,
#slot-oneteam{
  display:flex;
  align-items:center;      /* vertical center in the rect */
  justify-content:center;  /* horizontal center */
  overflow:hidden;
}

/* optional nudges */
#nemiMobile{
  --title-nudge-y: 2px;      /* +down / -up */
  --oneteam-nudge-y: 0px;
}

/* Title: one centered line that auto-fits */
#slot-titletextbox .titlecopy{
  width:100%; height:auto;
  white-space: nowrap;       /* force a single line */
  overflow: hidden;
  text-align: center;
  line-height: 2;
  font-weight: 800;
  font-size: var(--fsTitle) !important;  /* ‚Üê forces the fitted size to win */
  box-sizing: border-box;
  padding-inline: 6px;       /* tiny breathing room */
  letter-spacing: -0.15px;
  transform: translateY(var(--title-nudge-y));
}

/* One-team: exactly 2 centered lines */
#slot-oneteam .otcopy{
  width:100%; height:auto;
  text-align: center;
  line-height: 1.2;
  font-size: var(--fsSub);   /* set by JS */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;     /* vendor */
  line-clamp: 2;             /* standard */
  overflow: hidden;
  padding-inline: 2px;
  transform: translateY(var(--oneteam-nudge-y));
}

/* Stacking: subtext above panel, CTA still on top */
#slot-oneteam{ z-index:1; }
#slot-getstartedwithnemi{ z-index:12; }



/* optional: tiny vertical nudge */
#nemiMobile{ --oneteam-nudge-y: -4px; }  /* 0‚Äì3px is typical */
#slot-titletextbox{ outline:1px dashed rgba(255,0,0,.35); }
#slot-oneteam{ outline:1px dashed rgba(255,0,0,.35); }

    /* Inputs: nicer focus ring */
    #nemiMobile input:focus{ outline:none; border-color:#1c2c46; box-shadow:0 0 0 4px rgba(28,44,70,.12); }

    /* Buttons scale to slot height */
    #slot-getstartedwithnemi, #slot-loginbar, #slot-explorenemibox { font-size: clamp(14px, 3.6vw, 18px); }

    /* ---- GET STARTED pill look ---- */
    #slot-getstartedwithnemi{
      z-index:12;
      display:flex !important;
      align-items:center; justify-content:center;
      width:100%; height:100%;
      border-radius:9999px;
      text-decoration:none;
      font-weight:800; letter-spacing:.2px;
      color:#0f1e3a;
      border:3px solid #1c2c46;
      background: linear-gradient(#f6d768, #e3be32);
      box-shadow:
        0 3px 0 #1c2c46,
        0 6px 18px rgba(28,44,70,.25),
        inset 0 2px 0 rgba(255,255,255,.65);
    }
    #slot-getstartedwithnemi:hover { filter: brightness(1.02); }
    #slot-getstartedwithnemi:active {
      transform: translateY(1px);
      box-shadow:
        0 1px 0 #1c2c46,
        0 4px 12px rgba(28,44,70,.22),
        inset 0 1px 0 rgba(255,255,255,.55);
    }
    #slot-getstartedwithnemi:focus-visible { outline:3px solid #0ea5e9; outline-offset:2px; }
  </style>

  <!-- ================
       [NEMI:SCRIPTS]
       ================ -->
  <script>
  (function(){

    /* ---------------------------
       [NEMI:CONFIG KNOBS]
       --------------------------- */
    var CFG = {
  svgCandidates: [
    'assets/svgs/signinrenamed','/assets/svgs/signinrenamed','/nemi/assets/svgs/signinrenamed',
    'assets/svgs/signinrenamed.svg','/assets/svgs/signinrenamed.svg','/nemi/assets/svgs/signinrenamed.svg'
  ],

  /* widen the whole card (purely visual; doesn‚Äôt alter the SVG) */
  cardGrowX: 10,
  cardGrowY: 0,

  /* title + oneteam sizing */
  titlePadPx: 0,
  titleFontMax: 22,     // bump up if you want even larger/* raise/lower to taste */
  oneteamPadPx: 2,
  oneteamFontMin: 11,
  oneteamFontMax: 20,

  /* CTA: make wider, not taller; nudge down a bit */
  ctaInset:  { l: -10, r: -10, t: 0, b: 0 },
  ctaNudgeY: 6,
  ctaFontMin: 14,
  ctaFontMax: 20
};

  
    var section = document.getElementById('nemiMobile');
    var host    = document.getElementById('mobileArt');

    /* [NEMI:fetchFirst] try multiple SVG URLs until one works */
    function fetchFirst(urls, done){
      var i = 0;
      (function next(){
        if (i >= urls.length) return done(null);
        fetch(urls[i], { cache: 'no-cache' })
          .then(function(r){ if (!r.ok) throw new Error('not ok'); return r.text(); })
          .then(function(txt){ done(txt); })
          .catch(function(){ i++; next(); });
      })();
    }

    fetchFirst(CFG.svgCandidates, function(svgText){
      if (!svgText) { section.classList.remove('invisible'); return; }

      // Inject SVG inline (so we can query its rects)
      host.innerHTML = svgText.replace('<svg','<svg id="mobileSVG" style="display:block;width:100%;height:100%;pointer-events:none"');
      var svg = document.getElementById('mobileSVG');

      // Keep container aspect ratio matching viewBox
      var vb = svg.viewBox.baseVal;
      if (vb && vb.width && vb.height) section.style.aspectRatio = vb.width + ' / ' + vb.height;

      /* ------------- helpers (anchor + fitting) ------------- */

      // [NEMI:place] put a slot exactly on an SVG rect (+ optional uniform pad)
      function place(rectId, slotId, pad){
        pad = pad || 0;
        var rEl  = svg.querySelector('#'+rectId);
        var slot = document.getElementById(slotId);
        if (!rEl || !slot) { if (!rEl) console.warn('Missing anchor:', rectId); return; }
        var hb = host.getBoundingClientRect();
        var r  = rEl.getBoundingClientRect();
        slot.style.position = 'absolute';
        slot.style.display  = 'block';
        slot.style.left   = (r.left - hb.left + pad) + 'px';
        slot.style.top    = (r.top  - hb.top  + pad) + 'px';
        slot.style.width  = (r.width  - pad*2) + 'px';
        slot.style.height = (r.height - pad*2) + 'px';
      }

      // [NEMI:placeInset] grow/shrink independently on each side (negative = bigger)
      function placeInset(rectId, slotId, inset){
        inset = inset || {};
        var rEl = svg.querySelector('#'+rectId), slot = document.getElementById(slotId);
        if (!rEl || !slot) return;
        var hb = host.getBoundingClientRect(), r = rEl.getBoundingClientRect();
        var l = inset.l||0, t = inset.t||0, rr = inset.r||0, b = inset.b||0;
        slot.style.position = 'absolute';
        slot.style.display  = 'block';
        slot.style.left   = (r.left - hb.left + l) + 'px';
        slot.style.top    = (r.top  - hb.top  + t) + 'px';
        slot.style.width  = (r.width  - l - rr) + 'px';
        slot.style.height = (r.height - t - b) + 'px';
      }

      // [NEMI:fitVar] binary-search fit for multi-line blocks (uses CSS var)
      function fitVar(slotSel, blockSel, varName, minPx, maxPx){
        var slot  = document.querySelector(slotSel);
        var block = slot ? slot.querySelector(blockSel) : null;
        if (!slot || !block) return minPx;
        var lo=minPx, hi=maxPx, best=minPx;
        for (var i=0;i<12;i++){
          var mid=(lo+hi)/2;
          block.style.setProperty(varName, mid+'px');
          var fits = (block.scrollWidth <= slot.clientWidth + 0.5) &&
                     (block.scrollHeight <= slot.clientHeight + 0.5);
          if (fits) { best=mid; lo=mid; } else { hi=mid; }
        }
        block.style.setProperty(varName, Math.floor(best)+'px');
        return best;
      }

      // [NEMI:fitOneLine] binary-search fit for single-line (nowrap) title
     function fitOneLine(slotSel, blockSel, varName, minPx, maxPx){
  var slot  = document.querySelector(slotSel);
  var block = slot ? slot.querySelector(blockSel) : null;
  if (!slot || !block) return minPx;

  var SAFETY = 6; // was bigger; smaller = can grow closer to rect edge
  var lo=minPx, hi=maxPx, best=minPx;
  for (var i=0;i<12;i++){
    var mid=(lo+hi)/2;
    block.style.setProperty(varName, mid+'px');
    var w = block.getBoundingClientRect().width;
    var fitsW = w <= (slot.clientWidth - SAFETY);
    var fitsH = block.getBoundingClientRect().height <= slot.clientHeight;
    if (fitsW && fitsH) { best=mid; lo=mid; } else { hi=mid; }
  }
  block.style.setProperty(varName, Math.max(minPx, Math.floor(best))+'px');
  return best;
}


      // [NEMI:scaleCta] set CTA font relative to pill height
     function scaleCta(slotId, minPx, maxPx){
  var el = document.getElementById(slotId);
  if(!el) return;
  var h  = el.clientHeight || 0;
  var fs = Math.max(minPx, Math.min(maxPx, Math.floor(h * 0.36))); // was 0.42
  el.style.fontSize = fs + 'px';
  el.style.lineHeight = '1';
}

      // ------------ single layout pass ------------
      function layout(){
        /* Card background */
        place('loginbox', 'slot-loginboxbg', 3);
        (function syncRadius(){
          var rEl = svg.querySelector('#loginbox');
          if (!rEl) return;
          var rx = parseFloat(rEl.getAttribute('rx') || 0);
          var ry = parseFloat(rEl.getAttribute('ry') || rx || 0);
          var bg = document.getElementById('slot-loginboxbg');
          if (bg && (rx || ry)) bg.style.borderRadius = Math.max(rx, ry) + 'px';
        })();

        /* Heading cluster */
        place('teamiconbox',  'slot-teamiconbox');
        placeInset('titletextbox', 'slot-titletextbox', { l: -12, r: -12, t: 0, b: 0 });


        place('oneteam',      'slot-oneteam', CFG.oneteamPadPx);

        // Fit oneteam (2 lines) then title (single line)
       // subtext first (unchanged)
       const subSize = fitVar('#slot-oneteam', '.otcopy', '--fsSub', CFG.oneteamFontMin, CFG.oneteamFontMax);

       // TITLE ‚Äî single line, use your config cap
       fitOneLine('#slot-titletextbox', '.titlecopy', '--fsTitle', Math.max(22, subSize+1), CFG.titleFontMax);

        /* GET STARTED pill ‚Äî grow beyond rect a bit */
        placeInset('getstartedwithnemi','slot-getstartedwithnemi',{
  l: CFG.ctaInset.l - CFG.cardGrowX,
  r: CFG.ctaInset.r - CFG.cardGrowX,
  t: CFG.ctaInset.t + CFG.ctaNudgeY,  // shift down
  b: CFG.ctaInset.b - CFG.ctaNudgeY   // keep same height
});


        scaleCta('slot-getstartedwithnemi', CFG.ctaFontMin, CFG.ctaFontMax);

        /* Form + extras (exact to rects) */
        place('alreadyamember', 'slot-alreadyamember');
        place('emailbox',       'slot-emailbox');
        place('passwordbox',    'slot-passwordbox');
        place('loginbar',       'slot-loginbar');
        place('forgotpassword', 'slot-forgotpassword');
        place('appdownload',    'slot-appdownload');
        place('androiddownload','slot-androiddownload');
        place('explorenemibox', 'slot-explorenemibox');
        place('realtorapply',   'slot-realtorapply');

        section.classList.remove('invisible');
      }

      // Fonts ready ‚Üí layout
      if (document.fonts && document.fonts.ready && typeof document.fonts.ready.then === 'function') {
        document.fonts.ready.then(layout);
      } else {
        layout();
      }
      window.addEventListener('resize', layout);
    });
  })();
  </script>
</body>
</html>
